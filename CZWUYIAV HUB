local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

local Window = Fluent:CreateWindow({
    Title = "CZWUYIAV HUB " .. Fluent.Version,
    SubTitle = "czwuy_AV",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

local Tabs = {
    Main = Window:AddTab({ Title = "Main", Icon = "" }),
    Settings = Window:AddTab({ Title = "Settings", Icon = "" })
}

local Options = Fluent.Options

Fluent:Notify({
    Title = "Notification",
    Content = "This is a notification",
    SubContent = "SubContent",
    Duration = 5
})

-- TP / Tween
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

local function GetCharacter(plr)
    if plr and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
        return plr.Character.HumanoidRootPart
    end
    return nil
end

local function GetPlayerList()
    local list = {}
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer then
            table.insert(list, plr.Name)
        end
    end
    return list
end

local PlayerDropdown = Tabs.Main:AddDropdown("TP_Players", {
    Title = "เลือก Player",
    Values = GetPlayerList(),
    Multi = false,
})

local ModeDropdown = Tabs.Main:AddDropdown("TP_Mode", {
    Title = "โหมดTp",
    Values = {"Instant", "Tween"},
    Multi = false,
    Default = "Instant"
})

local TP_Toggle = Tabs.Main:AddToggle("TP_Toggle", {Title = "Tp", Default = false})

TP_Toggle:OnChanged(function(Value)
    TP_Toggle.Value = Value
end)

task.spawn(function()
    while true do
        task.wait()
        if TP_Toggle.Value then
            local targetName = PlayerDropdown.Value
            if targetName and targetName ~= "" then
                local target = Players:FindFirstChild(targetName)
                local targetHRP = GetCharacter(target)
                local myHRP = GetCharacter(LocalPlayer)
                if myHRP and targetHRP then
                    if ModeDropdown.Value == "Instant" then
                        myHRP.CFrame = targetHRP.CFrame * CFrame.new(0,0,-3)
                    elseif ModeDropdown.Value == "Tween" then
                        local info = TweenInfo.new((myHRP.Position - targetHRP.Position).Magnitude/250, Enum.EasingStyle.Linear)
                        TweenService:Create(myHRP, info, {CFrame = targetHRP.CFrame * CFrame.new(0,0,-3)}):Play()
                    end
                end
            end
        end
        if Fluent.Unloaded then break end
    end
end)

-- Keybind
local Keybind = Tabs.Settings:AddKeybind("Keybind", {
    Title = "KeyBind",
    Mode = "Toggle",
    Default = "F1",
    Callback = function(Value)
        print("Keybind clicked!", Value)
    end,
    ChangedCallback = function(New)
        print("Keybind changed!", New)
    end
})

Keybind:OnClick(function()
    print("Keybind clicked:", Keybind:GetState())
end)

Keybind:OnChanged(function()
    print("Keybind changed:", Keybind.Value)
end)

SaveManager:IgnoreThemeSettings()
SaveManager:SetIgnoreIndexes({})
InterfaceManager:SetFolder("FluentScriptHub")
SaveManager:SetFolder("FluentScriptHub/specific-game")
InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)

Window:SelectTab(1)

Fluent:Notify({
    Title = "CZWUYIAV AV",
    Content = "The script has been loaded.",
    Duration = 8
})
