local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

local Window = Fluent:CreateWindow({
    Title = "CZWUYIAV HUB " .. Fluent.Version,
    SubTitle = "czwuy_AV",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

local Tabs = {
    Main = Window:AddTab({ Title = "Main", Icon = "" }),
    Settings = Window:AddTab({ Title = "Settings", Icon = "" })
}

local Options = Fluent.Options

Fluent:Notify({
    Title = "Notification",
    Content = "This is a notification",
    SubContent = "SubContent",
    Duration = 5
})

-- TP / Tween
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

local function GetCharacter(plr)
    if plr and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
        return plr.Character.HumanoidRootPart
    end
    return nil
end

local function GetPlayerList()
    local list = {}
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer then
            table.insert(list, plr.Name)
        end
    end
    return list
end

local PlayerDropdown = Tabs.Main:AddDropdown("TP_Players", {
    Title = "เลือก Player",
    Values = GetPlayerList(),
    Multi = false,
})

local ModeDropdown = Tabs.Main:AddDropdown("TP_Mode", {
    Title = "โหมด Teleport",
    Values = {"Instant", "Tween"},
    Multi = false,
    Default = "Instant"
})

local TP_Toggle = Tabs.Main:AddToggle("TP_Toggle", {Title = "Teleport", Default = false})

TP_Toggle:OnChanged(function(Value)
    TP_Toggle.Value = Value
end)

task.spawn(function()
    while true do
        task.wait()
        if TP_Toggle.Value then
            local targetName = PlayerDropdown.Value
            if targetName and targetName ~= "" then
                local target = Players:FindFirstChild(targetName)
                local targetHRP = GetCharacter(target)
                local myHRP = GetCharacter(LocalPlayer)
                if myHRP and targetHRP then
                    if ModeDropdown.Value == "Instant" then
                        myHRP.CFrame = targetHRP.CFrame * CFrame.new(0,0,-3)
                    elseif ModeDropdown.Value == "Tween" then
                        local info = TweenInfo.new((myHRP.Position - targetHRP.Position).Magnitude/250, Enum.EasingStyle.Linear)
                        TweenService:Create(myHRP, info, {CFrame = targetHRP.CFrame * CFrame.new(0,0,-3)}):Play()
                    end
                end
            end
        end
        if Fluent.Unloaded then break end
    end
end)

-- WalkSpeed Control
local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local humanoid = char:WaitForChild("Humanoid")

local SpeedBox = Tabs.Main:AddInput("WalkSpeed_Box", {
    Title = "Walk Speed",
    Default = "16",
    Placeholder = "Enter speed (e.g. 500)",
    Numeric = true,
})

local SetSpeedBtn = Tabs.Main:AddButton({
    Title = "Set Speed",
    Callback = function()
        local speedValue = tonumber(SpeedBox.Value)

        if speedValue then
            humanoid.WalkSpeed = speedValue
            Fluent:Notify({
                Title = "Speed Updated",
                Content = "WalkSpeed set to: " .. speedValue,
                Duration = 3
            })
        else
            Fluent:Notify({
                Title = "Invalid Number",
                Content = "Please enter a valid speed.",
                Duration = 3
            })
        end
    end
})

-- Jump Power Control
local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local humanoid = char:WaitForChild("Humanoid")

local JumpBox = Tabs.Main:AddInput("JumpPower_Box", {
    Title = "Jump Power",
    Default = "50",
    Placeholder = "Enter jump power",
    Numeric = true,
})

local SetJumpBtn = Tabs.Main:AddButton({
    Title = "Set Jump Power",
    Callback = function()
        local jp = tonumber(JumpBox.Value)
        if jp then
            humanoid.JumpPower = jp
            Fluent:Notify({
                Title = "Jump Updated",
                Content = "JumpPower set to: " .. jp,
                Duration = 3
            })
        else
            Fluent:Notify({
                Title = "Invalid Number",
                Content = "Please enter a valid number.",
                Duration = 3
            })
        end
    end
})

local ResetJumpBtn = Tabs.Main:AddButton({
    Title = "Reset Jump Power",
    Callback = function()
        humanoid.JumpPower = 50
        Fluent:Notify({
            Title = "Jump Reset",
            Content = "JumpPower reset to default (50)",
            Duration = 3
        })
    end
})


-- Very Very Low Graphics (Ultra Potato Mode)
local Lighting = game:GetService("Lighting")
local Terrain = workspace:FindFirstChildOfClass("Terrain")

local function VeryLow()
    -- Disable all post processing
    for _, v in ipairs(Lighting:GetChildren()) do
        if v:IsA("PostEffect") then
            v.Enabled = false
        end
    end

    -- Lighting settings
    Lighting.GlobalShadows = false
    Lighting.Brightness = 1
    Lighting.Ambient = Color3.new(1,1,1)
    Lighting.OutdoorAmbient = Color3.new(1,1,1)
    Lighting.FogEnd = 1000000

    -- Terrain Optimization
    if Terrain then
        Terrain.WaterWaveSize = 0
        Terrain.WaterWaveSpeed = 0
        Terrain.WaterReflectance = 0
        Terrain.WaterTransparency = 1
    end

    -- Massive Optimization
    for _, obj in ipairs(workspace:GetDescendants()) do
        -- Remove particles
        if obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Beam") or obj:IsA("Fire") or obj:IsA("Smoke") then
            obj.Enabled = false
        end

        -- Replace all parts with plastic
        if obj:IsA("BasePart") then
            obj.Material = Enum.Material.Plastic
            obj.Reflectance = 0
        end

        -- Disable mesh parts visual (safe)
        if obj:IsA("MeshPart") then
            obj.Material = Enum.Material.Plastic  -- Force plastic look
            obj.TextureID = ""                   -- Remove texture
            obj.Reflectance = 0
        end

        -- Lower texture size
        if obj:IsA("Decal") or obj:IsA("Texture") then
            obj.Transparency = 0.5               -- Light fade
        end
    end

    -- Rendering quality
    settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
end

Tabs.Main:AddButton({
    Title = "VERY VERY LOW Graphics",
    Callback = function()
        VeryLow()
        Fluent:Notify({
            Title = "Very Low Mode",
            Content = "Graphics set to VERY VERY LOW (Ultra Potato Mode)",
            Duration = 5
        })
    end
})

-- Keybind
local Keybind = Tabs.Settings:AddKeybind("Keybind", {
    Title = "KeyBind",
    Mode = "Toggle",
    Default = "F1",
    Callback = function(Value)
        print("Keybind clicked!", Value)
    end,
    ChangedCallback = function(New)
        print("Keybind changed!", New)
    end
})

Keybind:OnClick(function()
    print("Keybind clicked:", Keybind:GetState())
end)

Keybind:OnChanged(function()
    print("Keybind changed:", Keybind.Value)
end)

SaveManager:IgnoreThemeSettings()
SaveManager:SetIgnoreIndexes({})
InterfaceManager:SetFolder("FluentScriptHub")
SaveManager:SetFolder("FluentScriptHub/specific-game")
InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)

Window:SelectTab(1)

Fluent:Notify({
    Title = "CZWUYIAV AV",
    Content = "The script has been loaded.",
    Duration = 8
})
